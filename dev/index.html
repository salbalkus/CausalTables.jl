<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · CausalTables.jl</title><meta name="title" content="Home · CausalTables.jl"/><meta property="og:title" content="Home · CausalTables.jl"/><meta property="twitter:title" content="Home · CausalTables.jl"/><meta name="description" content="Documentation for CausalTables.jl."/><meta property="og:description" content="Documentation for CausalTables.jl."/><meta property="twitter:description" content="Documentation for CausalTables.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>CausalTables.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Quick-Start"><span>Quick Start</span></a></li><li class="toplevel"><a class="tocitem" href="#Contributing"><span>Contributing</span></a></li></ul></li><li><a class="tocitem" href="man/formatting/">Turning data into a <code>CausalTable</code></a></li><li><a class="tocitem" href="man/generating-data/">Generating data for statistical experiments</a></li><li><a class="tocitem" href="man/estimands/">Approximating ground truth causal estimands</a></li><li><a class="tocitem" href="man/ground-truth/">Computing ground truth conditional distributions</a></li><li><a class="tocitem" href="man/network-summaries/">Network summaries</a></li><li><a class="tocitem" href="man/api/">Full API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/salbalkus/CausalTables.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/salbalkus/CausalTables.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="CausalTables.jl"><a class="docs-heading-anchor" href="#CausalTables.jl">CausalTables.jl</a><a id="CausalTables.jl-1"></a><a class="docs-heading-anchor-permalink" href="#CausalTables.jl" title="Permalink"></a></h1><p><em>A common interface for processing and simulating data for causal inference in Julia.</em></p><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><p>The goal of <code>CausalTables.jl</code> is to simplify the development of statistical <a href="https://en.wikipedia.org/wiki/Causal_inference">causal inference</a> methods in Julia. To this end, the package provides two sets of tools:</p><ol><li>The <code>CausalTable</code>, a <a href="https://tables.juliadata.org/stable/">Tables.jl</a>-compliant data structure that wraps a table of data with labels of the causes of relevant variables, denoted via a type of <a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph">directed acyclic graph (DAG)</a>. Users can call existing functions to easily intervene on treatment variables, identify common subsets of variables (confounders, mediators, instruments, etc.) or use causal labels in other ways – all while still allowing the data to be used with other Julia packages that accept Tables.jl data structures.</li><li>The <code>StructuralCausalModel</code> interface, which allows users to encode a Structural Causal Model (SCM), a sequence of conditional distributions where each distribution can depend (causally) on any of the previous. This supports simulating data from arbitrary causal structures, extract ground truth distributions conditional on the data generated in previous steps, and approximating common ground-truth estimands such as the average treatment effect or policy effect. </li></ol><p><strong>What sets this package apart?</strong> <code>CausalTables.jl</code> provides a common interface for manipulating tabular data for causal inference. While packages like <a href="https://mschauer.github.io/CausalInference.jl/latest/">CausalInference.jl</a> only focus on causal graphs and discovery algorithms, the <code>CausalTable</code> interface provides utility functions to clean and manipulate practical datasets for input into statistical estimators. The simulation capabilities of <code>CausalTables.jl</code> are similar to those of probabilistic programming languages like <a href="https://turing.ml/dev/">Turing.jl</a> or <a href="https://www.gen.dev/">Gen.jl</a>; however, unlike these packages, with <code>CausalTables.jl</code> users can extract the true conditional distributions of relevant variables from a dataset in closed-form <em>after</em> data has been generated. This makes it easy to extract parameters like ground-truth (&quot;oracle&quot;) conditional means or propensity scores, which are often helpful for testing whether an estimator is behaving as intended.</p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>CausalTables.jl can be installed using the Julia package manager. From the Julia REPL, type <code>]</code> to enter the Pkg REPL mode and run</p><pre><code class="nohighlight hljs">Pkg&gt; add CausalTables</code></pre><h2 id="Quick-Start"><a class="docs-heading-anchor" href="#Quick-Start">Quick Start</a><a id="Quick-Start-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Start" title="Permalink"></a></h2><p>Let&#39;s walk through how <code>CausalTables.jl</code> package can be used to simplify doing causal inference in Julia. </p><h3 id="Simulating-Data-from-a-StructuralCausalModel"><a class="docs-heading-anchor" href="#Simulating-Data-from-a-StructuralCausalModel">Simulating Data from a StructuralCausalModel</a><a id="Simulating-Data-from-a-StructuralCausalModel-1"></a><a class="docs-heading-anchor-permalink" href="#Simulating-Data-from-a-StructuralCausalModel" title="Permalink"></a></h3><p>To set up a statistical simulation using CausalTables.jl, we first define a <code>StructuralCausalModel</code> (SCM). This consists of two parts: a <code>DataGeneratingProcess</code> (DGP) that controls how the data is generated, and a list of variables to define the basic structure of the underlying causal diagram.</p><p>A DataGeneratingProcess can be constructed using the <code>@dgp</code> macro, which takes a sequence of conditional distributions of the form <code>[name] ~ Distribution(args...)</code> or auxiliary variables <code>[name] = some code...</code> and returns a <code>DataGeneratingProcess</code> object. Then, one can construct an StructuralCausalModel by passing the DGP to its construct, along with labels of the treatment and response variables. Note that <code>using Distributions</code> is almost always required before defining a DGP, since the package <a href="https://juliastats.org/Distributions.jl/stable/">Distributions.jl</a> is used to define the conditional distribution of random components at each step.</p><pre><code class="language-julia hljs">using CausalTables
using Random
using Distributions

dgp = @dgp(
        W ~ DiscreteUniform(1, 5),
        X ~ (@. Normal(W, 1)),
        Y ~ (@. Normal(X + 0.2 * W, 1))
    )

scm = StructuralCausalModel(
    dgp;
    treatment = :X,
    response = :Y
)</code></pre><p>To create multiple versions of an SCM with different parameters, simply define a function and call it:</p><pre><code class="language-julia hljs">scm_family(a, b; σ2X = 1, σ2Y = 1) = StructuralCausalModel(
    @dgp(
        W ~ DiscreteUniform(a, b),
        X ~ (@. Normal(W, σ2X)),
        Y ~ (@. Normal(X + 0.2 * W, σ2Y))
    ); 
    treatment = :X, response = :Y
)

scm_family(1, 5)
scm_family(1, 10; σ2X = 2, σ2Y = 2)</code></pre><p>One we&#39;ve defined our list of distribution functions, we can generate data from the DGP using the <code>rand</code> function:</p><pre><code class="language-julia hljs">Random.seed!(1);
data = rand(scm, 5)</code></pre><p>We can also apply various causal interventions to the data using the <code>intervene</code> function. The example below computes a new version of the CausalTable with each unit&#39;s treatment shifted by 1 – this is analogous to the effect estimated by a classical linear regression analysis. </p><pre><code class="language-julia hljs">data_intervened = intervene(data, additive_mtp(1))</code></pre><p>For a more detailed guide of how to generate data please refer to <a href="man/generating-data/">Generating Data</a>.</p><h3 id="Computing-Ground-Truth-Functionals"><a class="docs-heading-anchor" href="#Computing-Ground-Truth-Functionals">Computing Ground Truth Functionals</a><a id="Computing-Ground-Truth-Functionals-1"></a><a class="docs-heading-anchor-permalink" href="#Computing-Ground-Truth-Functionals" title="Permalink"></a></h3><p>Once we&#39;ve defined a DGP, we can approximate ground truth statistical functionals along with their efficiency bounds (variance of the counterfactual outcome) for a specified SCM using built-in functions. In general, these include</p><ul><li>Counterfactual Means (<code>cfmean</code>)</li><li>Counterfactual Differences (<code>cfdiff</code>)</li><li>Average Treatment Effect (<code>ate</code>), including among the Treated (<code>att</code>) and Untreated (<code>atu</code>)</li><li>Average Policy Effect (<code>ape</code>), also known as the causal effect of a Modified Treatment Policy. </li></ul><p>For the complete API of available ground truth causal estimands, see <a href="man/estimands/">Estimands</a></p><pre><code class="language-julia hljs">cfmean(scm, additive_mtp(1))

# output
(μ = 4.599337273915866,)</code></pre><p>For problems that involving functionals not available through CausalTables.jl or that require more fine-grained knowledge of the true conditional distributions for a given dataset, this package also implements the <code>condensity</code> function. This function computes the true conditional distributions of any variable in a CausalTable (given a corresponding DGP). The function returns a vector of Distribution objects from the package <a href="https://juliastats.org/Distributions.jl/stable/">Distributions.jl</a></p><pre><code class="language-julia hljs">X_distribution = condensity(scm, data, :X)

# output
5-element Vector{Normal{Float64}}:
 Distributions.Normal{Float64}(μ=1.0, σ=1.0)
 Distributions.Normal{Float64}(μ=2.0, σ=1.0)
 Distributions.Normal{Float64}(μ=4.0, σ=1.0)
 Distributions.Normal{Float64}(μ=4.0, σ=1.0)
 Distributions.Normal{Float64}(μ=5.0, σ=1.0)</code></pre><p>For convenience, there also exists functins like <code>conmean</code>, <code>convar</code>, and <code>propensity</code> that extract the true conditional mean, variance, and (generalized) propensity score of a specific variable the CausalTable. One can apply this to an &quot;intervened&quot; version of data to obtain functionals of the outcome under intervention:</p><pre><code class="language-julia hljs">Y_mean = conmean(scm, data_intervened, :Y)

# output
5-element Vector{Float64}:
 2.467564418628885
 5.149933692528245
 4.973979208080702
 4.757247582108903
 6.670866154143596</code></pre><p>For a more detailed guide of how to compute ground truth conditional distributions please refer to <a href="man/ground-truth/">Computing Ground Truth Conditional Distributions</a>.</p><h3 id="Wrapping-an-existing-Table-as-a-CausalTable"><a class="docs-heading-anchor" href="#Wrapping-an-existing-Table-as-a-CausalTable">Wrapping an existing Table as a CausalTable</a><a id="Wrapping-an-existing-Table-as-a-CausalTable-1"></a><a class="docs-heading-anchor-permalink" href="#Wrapping-an-existing-Table-as-a-CausalTable" title="Permalink"></a></h3><p>If you have a table of data that you would like to use with CausalTables.jl without defining a corresponding DataGeneratingProcess (i.e. to use with another package, or write your own causal method in Julia) you can wrap it as a <code>CausalTable</code> using the corresponding constructor.</p><pre><code class="language-julia hljs">tbl = (W = rand(1:5, 10), X = randn(10), Y = randn(10))
ctbl = CausalTable(tbl; treatment = :X, response = :Y, 
                        causes = (X = [:W], Y = [:W, :X]))</code></pre><p>Observe how <code>causes</code> is a <code>NamedTuple</code> of arrays listing the causes of specified variables, forming a partial edgelist of a <a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph">directed acyclic graph</a>. Labeling the causes of treatment and response is required, but causes of other variables do not need to be labeled; the roles of common causal inference variables, such as confounders, can be determined automatically. </p><p>Wrapping data as a <code>CausalTable</code> allows one to use its utility functions to extract causal-relevant variables from the dataset. For instance, you can extract the treatment, response, confounders, mediators, or instruments from the dataset using the corresponding functions. As an example, the following subsets the data to include only confounders:</p><pre><code class="language-julia hljs">confounders(ctbl)</code></pre><p>For a more detailed guide of how to wrap an existing table as a CausalTable please refer to <a href="man/formatting/">Turning Your Data Into a CausalTable</a>.</p><h1 id="Contributing"><a class="docs-heading-anchor" href="#Contributing">Contributing</a><a id="Contributing-1"></a><a class="docs-heading-anchor-permalink" href="#Contributing" title="Permalink"></a></h1><p>Have questions? Spot a bug or issue in the documentation? Want to request a new feature or add one yourself? Please don&#39;t hesitate to open an issue or pull request on the <a href="https://github.com/salbalkus/CausalTables.jl">CausalTables.jl GitHub repository</a>. We welcome all contributions and feedback!</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="man/formatting/">Turning data into a <code>CausalTable</code> »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.11.4 on <span class="colophon-date" title="Tuesday 3 June 2025 01:20">Tuesday 3 June 2025</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
